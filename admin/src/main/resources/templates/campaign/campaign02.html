<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <th:block th:replace="~{fragments/csrfFragments :: metaCsrf}"></th:block>

        
        <title>ìº í˜ì¸ ìˆ˜ì •</title>
        <link rel="stylesheet" href="@{/css/style.css}">
        
        <script th:inline="javascript">
            document.addEventListener("DOMContentLoaded", function() {
                let file = /*[[${file}]]*/ null;

                
                
                console.log("DOMì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤!");
                // ì—¬ê¸°ì— ì‹¤í–‰í•˜ê³  ì‹¶ì€ ì½”ë“œ ì‘ì„±
                const campaignSelect = /*[[${campaignSelect}]]*/ [];
                const leaderList = /*[[${leaderList}]]*/ [];
                console.log(campaignSelect);
                console.log("campaignSelect : " + JSON.stringify(campaignSelect));

                // if(campaignSelect != null){
                //     console.log("leaderCode")
                //     document.getElementById("leader_contact").value = campaignSelect.phoneNum;
                //     document.getElementById("leaderNo").value = campaignSelect.leaderCode;
                    
                //     const selectElement = document.getElementById('leader');
                    
                //     // selectElement.value = campaignSelect.leaderName;
                //     for(let i = 0; i < selectElement.options.length; i++) {
                //         console.log("option value: " + selectElement.options[i].text);
                //         selectElement.options[i].value = campaignSelect.leaderCode;
                //     }
                //     selectElement.selectedIndex = campaignSelect.leaderCode;
                    
                // }

                if(leaderList != null){
                    console.log("leaderCode")
                    if(campaignSelect.leaderPhone == null){
                        document.getElementById("leader_contact").value = "";
                    }
                    else{
                        document.getElementById("leader_contact").value = campaignSelect.leaderPhone;
                    }
                    document.getElementById("leaderCode").value = campaignSelect.leaderCode;
                    document.getElementById("leaderNo").value = campaignSelect.leaderNo;
                    document.getElementById("leaderCode").value = campaignSelect.leaderId;
                    const selectElement = document.getElementById('leader');
                    
                    selectElement.value = campaignSelect.leaderCode;
                    for(let i = 0; i < selectElement.options.length; i++) {
                        selectElement.options[i].value = i
                    }
                    // selectElement.selectedIndex = campaignSelect.leaderCode;
                    
                }

                if(campaignSelect.typeCode != null){
                    console.log("typeCode")
                    document.getElementById("typeCode").value = campaignSelect.typeCode;
                    
                    const selectElement = document.getElementById('securityType');
                    
                    selectElement.value = campaignSelect.typeCode;
                    
                    selectElement.selectedIndex = campaignSelect.typeCode;
                }
                
                

            });
            function deleteCampaign() {
                if (!confirm("ì •ë§ë¡œ ì´ ìº í˜ì¸ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    return;
                }
            }

            function securityTypeChange(typeCode) {
                console.log("ì„ íƒëœ ê²½í˜¸/ì§„í–‰/ìˆ˜í–‰ êµ¬ë¶„: " + typeCode);
                document.getElementById("typeCode").value = typeCode;
            }

            function inputLeaderPhoneNumber(idx) {
                console.log("ì„ íƒëœ ì¸ì†”ì ID: " + idx);
                const leaderList = /*[[${leaderList}]]*/ [];

                console.log("selectPhoneNumber : " + JSON.stringify(leaderList[idx-1]));

                const selectPhoneNumber = leaderList[idx-1].phoneNum;
                const selectNo = leaderList[idx-1].id;
                const selectId = leaderList[idx-1].userId;

                console.log("selectPhoneNumber : " + selectPhoneNumber);

                document.getElementById("leader_contact").value = selectPhoneNumber;
                document.getElementById("leaderNo").value = selectNo;
                document.getElementById("leaderCode").value = selectId;

                console.log("a" + selectPhoneNumber);
            }

            // function removeFile(element, id){
            //     console.log("campaign: " + id)
            //     let request = new XMLHttpRequest();
            //     request.onreadystatechange = function(){
            //         if(request.readyState == request.DONE && request.status == 200) {
            //             let response = request.responseText;
            //             if(response == 'SUCCESS'){
            //                 alert('íŒŒì¼ ì‚­ì œ ì„±ê³µ');
            //                 // íŒŒì¼ ëª©ë¡ ê°±ì‹ 
            //                 // ë°©ë²• 1 - í˜ì´ì§€ ìƒˆë¡œ ê³ ì¹¨
            //                 // location.reload();
                            
            //                 // ë°©ë²• 2 - DOM ìœ¼ë¡œ íŒŒì¼ í•­ëª© í–‰ ì‚­ì œ
            //                 // alert(eletemet);
            //                 //element.parentNode.parentNode.remove(); // button > td > tr
            //                 document.getElementById("imgFile").remove();
            //                 document.getElementById("campaignImage").style.display = "block";
            //                 // ë°©ë²• 3 - íŒŒì¼ëª©ë¡ ë¹„ë™ê¸°ë¡œ ìš”ì²­
            //                 // 1. JSON ë°ì´í„°ë¥¼ ë°›ê³  ëœë”ë§
            //                 // 2. íŒŒì¼ëª©ë¡ ë·°(html)ë¥¼ ì‘ë‹µë°›ì•„ ëœë”ë§ â­ï¸
                            
            //                 //getFileList();
                            
            //             }else{ 
            //                 alert('íŒŒì¼ ì‚­ì œ ì‹¤íŒ¨');
            //             }
            //         } 
            //     }
            //     const url = `/file/${id}`
            //         console.log("delete url : " + url);
            //         request.open('DELETE', url, true);
            //         request.send();
            // }

            function removeFile(element, id){
                console.log("campaign: " + id);
                let request = new XMLHttpRequest();

                // â­ï¸ CSRF í† í° ê°€ì ¸ì˜¤ê¸° ì‹œì‘ â­ï¸
                // hidden input íƒœê·¸ì—ì„œ nameê³¼ valueë¥¼ ê°€ì ¸ì™€.
                const csrfToken = document.querySelector('input[name="_csrf"]').value;
                // const csrfHeader = document.querySelector('input[name="_csrf"]').name; // ìŠ¤í”„ë§ ê¸°ë³¸ì€ "_csrf"ì•¼
                const csrfHeaderToSend = "X-CSRF-TOKEN"; // ğŸ‘ˆ Spring Securityê°€ ê¸°ë³¸ìœ¼ë¡œ ê¸°ëŒ€í•˜ëŠ” í—¤ë” ì´ë¦„!
                // ë§Œì•½ parameterNameì´ ë‹¤ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ë„ ê°€ëŠ¥í•´:
                // const csrfHeader = document.querySelector('input[name="_csrf"]').getAttribute('name');

                // meta íƒœê·¸ë¡œ CSRF í† í°ì„ ì €ì¥í–ˆë‹¤ë©´ ì´ë ‡ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆì–´:
                // const csrfToken = document.querySelector("meta[name='_csrf']").getAttribute("content");
                // const csrfHeader = document.querySelector("meta[name='_csrf_header']").getAttribute("content");
                // â­ï¸ CSRF í† í° ê°€ì ¸ì˜¤ê¸° ë â­ï¸
                request.onreadystatechange = function(){
                    if(request.readyState == request.DONE && request.status == 200) {
                        let response = request.responseText;
                        if(response == 'SUCCESS'){
                            alert('íŒŒì¼ ì‚­ì œ(ìƒíƒœ ë³€ê²½) ì„±ê³µ');

                            // â­ï¸ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¹ì…˜ ìˆ¨ê¸°ê¸°/ë³´ì´ê¸° â­ï¸
                            document.getElementById("existing-file-section").classList.add('hidden');    // ê¸°ì¡´ íŒŒì¼ ì„¹ì…˜ ìˆ¨ê¸°ê¸°
                            document.getElementById("drop-area").classList.remove('hidden');             // ë“œë¡­ ì˜ì—­ ë³´ì´ê¸°

                            // ì´ë¯¸ì§€ ì—…ë¡œë“œ <input> íƒœê·¸ì˜ ê°’ì„ ë¹„ì›Œì„œ íŒŒì¼ ì„ íƒ ìƒíƒœ ì´ˆê¸°í™”
                            document.getElementById("image").value = '';
                            // ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ë„ ì´ˆê¸° ìƒíƒœë¡œ (src ë¹„ìš°ê³  hidden í´ë˜ìŠ¤ ì¶”ê°€í•˜ì—¬ ìˆ¨ê¹€)
                            document.getElementById("preview").classList.add('hidden'); // ë¯¸ë¦¬ë³´ê¸° img íƒœê·¸ ìˆ¨ê¸°ê¸°
                            document.getElementById("preview").src = ""; // ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ src ë¹„ìš°ê¸°

                        }else{
                            alert('íŒŒì¼ ì‚­ì œ(ìƒíƒœ ë³€ê²½) ì‹¤íŒ¨');
                        }
                    } else if (request.readyState == request.DONE && request.status != 200) {
                        alert('íŒŒì¼ ì‚­ì œ(ìƒíƒœ ë³€ê²½) ìš”ì²­ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ' + request.responseText);
                    }
                }

                const url = `/file/markDeleted/${id}`;
                console.log("mark deleted url : " + url);
                request.open('POST', url, true);
                request.setRequestHeader(csrfHeaderToSend, csrfToken);
                request.send();
            }
        </script>
    </head>
    <body>
        <div class="admin-container">
            <div th:replace="~{fragments/sidebar :: sidebarFragment}"></div>

            <div class="main-content">
                <h1>ìº í˜ì¸ ìˆ˜ì •</h1>
                <form class="form" action="@{/admin/campaign05}" method="post" id="form" enctype="multipart/form-data">
                    <th:block th:replace="fragments/csrfFragments :: inputCsrf"></th:block>
                    
                    <input type="hidden" name="campaignId" id="campaignId" th:value="${campaignSelect.campaignId}" />
                    <div class="form-row">
                        <div class="form-group">
                            <label for="businessName">ì—…ì²´ëª…</label>
                            <input type="text" name="companyNm" id="companyNm" th:value="${campaignSelect.companyNm}" required />
                        </div>
                        <div class="form-group">
                            <label for="mainPhone">ê³ ê° ì—°ë½ì²˜</label>
                            <input type="text" name="companyPh" id="companyPh" th:value="${campaignSelect.companyPh}" required />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="leader">ì¸ì†”ì ì„ íƒ</label>
                            <select id="leader" name="leader" onchange="inputLeaderPhoneNumber(this.value)" th:field="*{campaignSelect.leaderCode}" >
                                <option value="">-- ì„ íƒí•˜ì„¸ìš” --</option>
                                <option th:each="leader, stat : ${leaderList}" th:value="${leader.id}" th:selected="${leader.id == campaignSelect.leaderCode}" th:text="${leader.userNm}"></option>
                            </select>
                            <input type="hidden" id="leaderCode" name="leaderCode" required />
                            <input type="hidden" id="leaderNo" name="leaderNo" required />
                        </div>
                        <div class="form-group">
                            <label>ì¸ì†”ì ì—°ë½ì²˜</label>
                            <input type="text" name="leader_contact" id="leader_contact" readonly required />
                        </div>
                        <div class="form-group">
                            <label for="leaderPay">ì¸ì†”ì ê¸‰ì—¬</label>
                            <input type="number" name="leaderPay" id="leaderPay" th:value="${campaignSelect.leaderPay}" />
                            <!-- th:value="${campaignSelect.leaderPay}" -->
                        </div>
                        <div class="form-group">
                            <label for="leaderPay">ì¸ì†”ì í¬ì¸íŠ¸</label>
                            <input type="text" id="leaderPoint" name="leaderPoint" th:value="${campaignSelect.leaderPoint}" />
                        </div>
                        <!-- <div class="form-group">
                            <label>ì¸ì†”ì ì„ íƒ</label>
                            <select name="userGuideList" id="userGuideList" required>
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="ê¹€ì¸ì†”">ê¹€ì¸ì†”</option>
                                <option value="ë°•ë¦¬ë”">ë°•ë¦¬ë”</option>
                            </select>
                        </div> -->
                    </div>
                    
                    <div class="form-group">
                        <label>ìº í˜ì¸ëª…</label>
                        <input type="text" name="campaignTitle" id="campaignTitle" th:value="${campaignSelect.campaignTitle}" required />
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="campaignPay">ìº¡í˜ì¸ ê¸‰ì—¬</label>
                            <input type="number" name="campaignPay" id="campaignPay" th:value="${campaignSelect.campaignPay}" />
                            <!-- th:value="${campaignSelect.leaderPay}" -->
                        </div>
                        <div class="form-group">
                            <label for="securityType">ê²½í˜¸/ì§„í–‰/ìˆ˜í–‰ êµ¬ë¶„</label>
                            <select id="securityType" name="securityType" th:field="*{securityType}" onchange="securityTypeChange(this.value)" required>
                                <option value="">-- ì„ íƒí•˜ì„¸ìš” --</option>
                                <option name="" th:each="type : ${securityType}" th:value="${type.code}" th:text="${type.codeName}"></option>
                            </select>
                            <input type="hidden" id="typeCode" name="typeCode" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-group">
                            <label>ìº í˜ì¸ ì´ë¯¸ì§€</label>

                            <!-- <div th:if="${file == null}" id="drop-area" style="border: 2px dashed #b594ff; padding: 20px; text-align: center; border-radius: 8px" >
                                <p>ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ëŒì–´ë‹¤ ë†“ìœ¼ì„¸ìš”</p>
                                
                                <div th:if="${file == null}">
                                    <input type="file" name="image" id="image" accept="image/*" style="display: none" />
                                    <img id="preview" src="" alt="ë¯¸ë¦¬ë³´ê¸°" style="max-width: 100%; margin-top: 10px; display: none" />
                                </div>
                            </div>
                            <div th:if="${file != null}">
                                <div class="mrg_auto">
                                    <img class="campaign_image" id="imgFile"th:src="|/img?id=${campaignSelect.campaignId}|" alt="íŒŒì¼ì´ë¯¸ì§€" />
                                </div>
                                <button type="button" style="margin-top: 10px; background-color: #aaa; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;" 
                                th:onclick="removeFile(this, [[${campaignSelect.campaignId}]])">ê¸°ì¡´ ì´ë¯¸ì§€ ì‚­ì œ</button>
                            </div> -->

                            <div id="existing-file-section" th:classappend="${file == null} ? 'hidden'">
                                <div class="mrg_auto">
                                    <img class="campaign_image" id="imgFile" th:src="|/img?id=${campaignSelect.campaignId}|" alt="íŒŒì¼ì´ë¯¸ì§€" />
                                </div>
                                <button type="button" style="margin-top: 10px; background-color: #aaa; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;"
                                        th:onclick="removeFile(this, [[${campaignSelect.campaignId}]])">ê¸°ì¡´ ì´ë¯¸ì§€ ì‚­ì œ</button>
                            </div>
                            
                            <!-- â­ï¸ íŒŒì¼ ì—…ë¡œë“œ ì˜ì—­: ID ì¶”ê°€ ë° hidden í´ë˜ìŠ¤ ì¡°ê±´ë¶€ ì¶”ê°€ â­ï¸ -->
                            <!-- file ê°ì²´ê°€ nullì´ ì•„ë‹ˆë©´ hidden í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•´ì„œ ìˆ¨ê¸°ê³ , nullì´ë©´ hidden í´ë˜ìŠ¤ ì—†ì´ ë³´ì—¬ì¤Œ -->
                            <div id="drop-area" th:classappend="${file != null} ? 'hidden'" style="border: 2px dashed #b594ff; padding: 20px; text-align: center; border-radius: 8px;">
                                <p>ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ëŒì–´ë‹¤ ë†“ìœ¼ì„¸ìš”</p>
                                <div>
                                    <input type="file" name="image" id="image" accept="image/*" style="display: none" />
                                    <!-- â­ï¸ ì—¬ê¸° hidden í´ë˜ìŠ¤ ì¶”ê°€ â­ï¸ -->
                                    <img id="preview" src="" alt="ë¯¸ë¦¬ë³´ê¸°" class="hidden" style="max-width: 100%; margin-top: 10px;" />
                                </div>
                            </div>
                            
                        </div>
                        
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ëª¨ì§‘ ì¸ì› ìˆ˜</label>
                                <input type="number" name="recruitmentNum" id="recruitmentNum" th:value="${campaignSelect.recruitmentNum}" required />
                        </div>
                        <div class="form-group">
                            <label for="placeAddr">ì£¼ì†Œ</label>
                            <input type="text" name="placeAddr" id="placeAddr" th:value="${campaignSelect.placeAddr}" />
                        </div>
                        <!-- <div class="form-group">
                            <label>ì¸ì†”ì ì„ íƒ</label>
                            <select name="userGuideList" id="userGuideList" required>
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="ê¹€ì¸ì†”">ê¹€ì¸ì†”</option>
                                <option value="ë°•ë¦¬ë”">ë°•ë¦¬ë”</option>
                            </select>
                        </div> -->
                    </div>
                    
                    <div class="form-group">
                        <label>ì•ˆë‚´ì‚¬í•­</label>
                        <textarea name="mission" id="mission" rows="4" th:text="${campaignSelect.mission}"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ì‹ ì²­ê¸°ê°„</label>
                            <div class="form-row">
                                <input class="dateInsert" type="date" name="AppPeriodStr" id="AppPeriodStr" th:value="${campaignSelect.AppPeriodStr}" required />
                                <input class="dateInsert" type="date" name="AppPeriodEnd" id="AppPeriodEnd" th:value="${campaignSelect.AppPeriodEnd}" required />
                            </div>
                        </div>
                        <div class="form-group">
                            <label>í–‰ì‚¬ê¸°ê°„</label>
                            <div class="form-row">
                                <input class="dateInsert" type="date" name="eventPeriodStr" id="eventPeriodStr" th:value="${campaignSelect.eventPeriodStr}" required />
                                <input class="dateInsert" type="date" name="eventPeriodEnd" id="eventPeriodEnd" th:value="${campaignSelect.eventPeriodEnd}" required />
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ëª…ë‹¨ë°œí‘œê¸°ê°„</label>
                            <div class="form-row">
                                <input class="dateInsert" type="date" name="resultDate" id="resultDate" th:value="${campaignSelect.resultDate}" required />
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        
                    </div>

                    <button type="submit">ìº í˜ì¸ ìˆ˜ì •</button>
                    <button type="button" class="delete-btn" onclick="campaignRemove()">ìº í˜ì¸ ì‚­ì œ</button>
                </form>
            </div>
        </div>

        <script>
            const params = new URLSearchParams(location.search);
            const id = params.get("id");
            const form = document.getElementById("form");

            function campaignRemove(){
                console.log(id);
                if(!confirm('ì •ë§ë¡œ ì´ ìº í˜ì¸ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')){
                    return;
                }

                form.action = '/admin/campaign06?id=' + id; // action ì†ì„± ë³€ê²½
                form.submit(); // ìš”ì²­ ì „ì†¡
            }

    const dropArea = document.getElementById("drop-area");
    const imageInput = document.getElementById("image");
    const preview = document.getElementById("preview");

    dropArea.addEventListener("click", () => imageInput.click());

    dropArea.addEventListener("dragover", (e) => {
        e.preventDefault();
        dropArea.style.backgroundColor = "#f3e7ff";
    });

    dropArea.addEventListener("dragleave", () => {
        dropArea.style.backgroundColor = "transparent";
    });

    dropArea.addEventListener("drop", (e) => {
        e.preventDefault();
        dropArea.style.backgroundColor = "transparent";
        const file = e.dataTransfer.files[0];
        if (file && file.type.startsWith("image/")) {
            imageInput.files = e.dataTransfer.files;
            showPreview(file);
        }
    });

    imageInput.addEventListener("change", () => {
        const file = imageInput.files[0];
        if (file) {
            showPreview(file);
        }
    });

    function showPreview(file) {
        const reader = new FileReader();
        reader.onload = (e) => {
            preview.src = e.target.result;
            preview.style.display = "block";
        };
        reader.readAsDataURL(file);
    }
    document.addEventListener("DOMContentLoaded", function(){
        //const form = document.querySelector("form");
        // document.getElementById("campaignImage").style.display = "none";
    });
    document.addEventListener("DOMContentLoaded", () => {
        const fileInput = document.getElementById('image');
        const previewImage = document.getElementById('preview');

        if (fileInput && previewImage) {
            // íŒŒì¼ ì„ íƒ ì‹œ change ì´ë²¤íŠ¸ ê°ì§€
            fileInput.addEventListener('change', function(event) {
                const file = event.target.files[0]; // ì„ íƒëœ íŒŒì¼ ì¤‘ ì²« ë²ˆì§¸ íŒŒì¼ ê°€ì ¸ì˜¤ê¸°

                if (file) {
                    const reader = new FileReader(); // íŒŒì¼ì„ ì½ê¸° ìœ„í•œ FileReader ê°ì²´ ìƒì„±

                    // íŒŒì¼ ì½ê¸°ê°€ ì™„ë£Œë˜ë©´ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜
                    reader.onload = function(e) {
                        previewImage.src = e.target.result; // ì½ì€ ë°ì´í„°ë¥¼ img íƒœê·¸ì˜ srcë¡œ ì„¤ì •
                        previewImage.classList.remove('hidden'); // ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ ë³´ì´ê²Œ í•˜ê¸° (hidden í´ë˜ìŠ¤ ì œê±°)
                        // previewImage.style.display = 'block'; // ë§Œì•½ hidden í´ë˜ìŠ¤ ëŒ€ì‹  style.displayë¥¼ ì¼ë‹¤ë©´ ì´ê±¸ë¡œ!
                    };

                    reader.readAsDataURL(file); // íŒŒì¼ì„ Data URL í˜•ì‹ìœ¼ë¡œ ì½ê¸° (Base64 ì¸ì½”ë”©ëœ ì´ë¯¸ì§€ ë°ì´í„°)
                } else {
                    // íŒŒì¼ì´ ì„ íƒë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì·¨ì†Œë˜ì—ˆì„ ê²½ìš° ë¯¸ë¦¬ë³´ê¸° ì´ˆê¸°í™”
                    previewImage.src = "";
                    previewImage.classList.add('hidden'); // ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ ìˆ¨ê¸°ê¸° (hidden í´ë˜ìŠ¤ ì¶”ê°€)
                    // previewImage.style.display = 'none'; // ë§Œì•½ hidden í´ë˜ìŠ¤ ëŒ€ì‹  style.displayë¥¼ ì¼ë‹¤ë©´ ì´ê±¸ë¡œ!
                }
            });
        }
    });
        </script>
    </body>
</html>
<script>
    

</script>