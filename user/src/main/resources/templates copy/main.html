<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ëŒ€ì¥ì˜ ìº í˜ì¸ í”Œë«í¼</title>
    <link rel="stylesheet" href="/css/style.css" />
    <script>
    // document.addEventListener('DOMContentLoaded', function () {
    // fetch('php/check_login.php')
    //     .then(res => res.json())
    //     .then(loginData => {
    //     const loggedIn = loginData.loggedIn;

    //     // ìƒë‹¨ ë©”ë‰´ í† ê¸€
    //     document.getElementById('menuLogin').style.display = loggedIn ? 'none' : 'inline';
    //     document.getElementById('menuRegister').style.display = loggedIn ? 'none' : 'inline';
    //     document.getElementById('menuMyPage').style.display = loggedIn ? 'inline' : 'none';
    //     document.getElementById('menuLogout').style.display = loggedIn ? 'inline' : 'none';

    //     // ìº í˜ì¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    //     fetch('data/campaigns.json')
    //         .then(res => res.json())
    //         .then(campaigns => {
    //         const popular = [...campaigns].sort((a, b) => b.applicants - a.applicants);
    //         const chance = [...campaigns].sort((a, b) => a.applicants - b.applicants);
    //         const newest = [...campaigns].sort((a, b) => new Date(b.date) - new Date(a.date));
    //         const reviews = campaigns.filter(c => c.hasReview);

    //         // âœ… ìƒˆë¡œìš´ ì¹´ë“œ HTML ìƒì„± í•¨ìˆ˜
    //         const render = (id, list) => {
    // const container = document.getElementById(id);
    // container.innerHTML = '';
    // list.forEach(c => {
    //     const card = document.createElement('div');
    //     card.className = 'campaign-card';
    //     card.innerHTML = `
    //     <img src="${c.image}" alt="${c.title}" class="campaign-image" />
    //     <div class="campaign-info-box">
    //         <div class="campaign-tags">
    //         <span class="tag status">${c.status}</span>
    //         <span class="tag dday">${c.dday}</span>
    //         </div>
    //         <h3 class="campaign-title-text">[${c.region}][${c.status}] ${c.title}</h3>
    //         <p class="campaign-stats">ì‹ ì²­ ${c.applicants} / ëª¨ì§‘ ${c.limit}</p>
    //     </div>
    //     `;
    //     container.appendChild(card);
    // });
    // };

    //         // ê° ì„¹ì…˜ ê·¸ë¦¬ê¸°
    //         render('popularList', popular);
    //         render('chanceList', chance);
    //         render('newList', newest);
    //         render('reviewList', reviews);

    //         // ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¼ ìˆœì„œ ì¬ë°°ì¹˜
    //         const campaignContainer = document.getElementById('campaignContainer');
    //         const sections = {
    //             popular: document.getElementById('popularSection'),
    //             chance: document.getElementById('chanceSection'),
    //             new: document.getElementById('newSection'),
    //             reviews: document.getElementById('reviewsSection')
    //         };

    //         campaignContainer.innerHTML = '';
    //         if (loggedIn) {
    //             campaignContainer.appendChild(sections.chance);
    //             campaignContainer.appendChild(sections.new);
    //             campaignContainer.appendChild(sections.popular);
    //         } else {
    //             campaignContainer.appendChild(sections.popular);
    //             campaignContainer.appendChild(sections.chance);
    //             campaignContainer.appendChild(sections.new);
    //         }
    //         campaignContainer.appendChild(sections.reviews);
    //         });
    //     });
    // });
    </script>
</head>
<body>
    <!-- ìƒë‹¨ ìœ í‹¸ ë©”ë‰´ -->
    <div class="top-bar">
        <div class="right">
        <a href="#">ê³ ê°ì„¼í„°</a>
        <a href="#">ê´‘ê³ ë¬¸ì˜</a>
        </div>
    </div>

    <!-- í—¤ë” -->
    <header class="main-header">
        <div class="header-left">
            <div class="logo">í–‰ì§‘</div>
                <input type="text" class="search" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
            </div>
        <div class="header-right">
            <div class="ad-section">
                <img src="images/fireworks-icon.png" alt="í­ì£½ ì•„ì´ì½˜" class="ad-icon" />
                <div class="ad-text">
                    <div class="ad-main">í–‰ì‚¬ ë¬¸ì˜ëŠ” ì´ìª½ìœ¼ë¡œ!</div>
                    <div class="ad-link">í–‰ì‚¬ ìš”ì²­ í˜ì´ì§€</div>
                </div>
            </div>
        </div>
    </header>

    <!-- ë‚´ë¹„ê²Œì´ì…˜ -->
    <nav class="nav-bar">
        <div class="nav-container">
            <ul class="nav-list">
                <li>í™ˆ</li>
                <li>ì§€ì—­</li>
                <li>ì´ìš©ê°€ì´ë“œ</li>
                <li>í–‰ì§‘ì¸ì†”ì</li>
                <li>ë² ìŠ¤íŠ¸ ìš”ì›</li>
                <li>ì¸ì¦ëœ í˜‘ë ¥ì—…ì²´</li>
                <li>
                <img src="https://cdn-icons-png.flaticon.com/512/1827/1827310.png" alt="ê³µì§€" class="notice-icon">
                ê³µì§€
                </li>
            </ul>
            <div class="auth-links">
                <a href="/user/login.html" class="auth-link" id="menuLogin">ë¡œê·¸ì¸</a>
                <a href="register/register.html" class="auth-link" id="menuRegister">íšŒì›ê°€ì…</a>
                <a href="mypage.html" class="auth-link" id="menuMyPage" style="display: none;">ë§ˆì´í˜ì´ì§€</a>
                <a href="php/logout.php" class="auth-link" id="menuLogout" style="display: none;">ë¡œê·¸ì•„ì›ƒ</a>
            </div>      
        </div>
    </nav>

    <!-- ğŸ”¹ ë°°ë„ˆ 3ê°œ ì˜ì—­ -->
    <section class="banner-section">
        <div class="banner-card">
            <img src="https://via.placeholder.com/400x150?text=ìš°ë¦¬+ê°€ê²Œ+í™ë³´í•˜ê¸°" alt="í™ë³´ ë°°ë„ˆ" />
        </div>
        <div class="banner-card">
            <img src="https://via.placeholder.com/400x150?text=ìŠ¤í˜ì…œ+ìº í˜ì¸" alt="ìŠ¤í˜ì…œ ë°°ë„ˆ" />
        </div>
        <div class="banner-card">
            <img src="https://via.placeholder.com/400x150?text=ë¦¬ë·°ì–´+ì´ìš©ë§¤ë‰´ì–¼" alt="ì´ìš©ë§¤ë‰´ì–¼ ë°°ë„ˆ" />
        </div>
    </section>

    <!-- ğŸ”¹ ìº í˜ì¸ ì˜ì—­ -->
    <div id="campaignContainer">
        <section id="popularSection">
            <h2 class="campaign-title" >ì¸ê¸° ìˆëŠ” ìº í˜ì¸</h2>
            <div class="campaign-list" id="popularList">
                <!-- <img src="${c.image}" alt="${c.title}" class="campaign-image" /> -->
                <th:block th:each="campaign : ${campaignFavorite}">
                    <div class="campaign-card">
                        <img id="imgFile" th:src="|/img?id=${campaign.id}|" alt="íŒŒì¼ì´ë¯¸ì§€" width="720" height="405" class="campaign-image"/><br>
                        <div class="campaign-info-box">
                            <div class="campaign-tags">
                                <span class="tag status" th:text="${campaign.contentsDateStart}"></span>
                                <span class="tag dday" th:text="${campaign.contentsDateEnd}"></span>
                            </div>
                            <!-- <h3 class="campaign-title-text">[${c.region}][${c.status}] ${c.title}</h3> -->
                            <h3 class="campaign-title-text" th:text="${campaign.title}"></h3>
                            <p class="campaign-stats">ì‹ ì²­ <span th:text="${campaign.status}"> / ëª¨ì§‘ <span th:text="${campaign.countOfApplications}"></p>
                        </div>
                    </div>
                </th:block>
            </div>
        </section>

        <section id="chanceSection">
            <h2 class="campaign-title">ì„ ì •í™•ë¥  ë†’ì€ ìº í˜ì¸</h2>
            <div class="campaign-list" id="chanceList">
                <th:block th:each="campaign : ${campaignFavorite}">
                    <div class="campaign-card">
                        <img id="imgFile" th:src="|/img?id=${campaign.id}|" alt="íŒŒì¼ì´ë¯¸ì§€" width="720" height="405" class="campaign-image"/><br>
                        <div class="campaign-info-box">
                            <div class="campaign-tags">
                                <span class="tag status" th:text="${campaign.contentsDateStart}"></span>
                                <span class="tag dday" th:text="${campaign.contentsDateEnd}"></span>
                            </div>
                            <!-- <h3 class="campaign-title-text">[${c.region}][${c.status}] ${c.title}</h3> -->
                            <h3 class="campaign-title-text" th:text="${campaign.title}"></h3>
                            <p class="campaign-stats">ì‹ ì²­ <span th:text="${campaign.status}"> / ëª¨ì§‘ <span th:text="${campaign.countOfApplications}"></p>
                        </div>
                    </div>
                </th:block>
            </div>
        </section>

        <section id="newSection">
            <h2 class="campaign-title">ìƒˆë¡œ ì˜¤í”ˆí•œ ìº í˜ì¸</h2>
            <div class="campaign-list" id="newList"></div>
        </section>

        <section id="reviewsSection">
            <h2 class="campaign-title">ì‹¤ì‹œê°„ ë¦¬ë·°</h2>
            <div class="campaign-list" id="reviewList"></div>
        </section>
    </div>

    <footer>
        <p>ê°•ë‚¨ë§›ì§‘ Â© 2023</p>
    </footer>

    <!-- ğŸ”¹ ë¡œê·¸ì¸ í™•ì¸ ë° ìº í˜ì¸ ì •ë ¬ ë¡œì§ -->
    <script src="index.js"></script>
</body>
</html>
