<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <th:block th:replace="~{fragments/csrfFragments :: metaCsrf}"></th:block>
    <title th:text="${useGuide03.title}">게시글 제목</title>
    <!-- CKEditor에 의해 생성된 CSS가 적용되도록 추가 (선택 사항이지만 일관성을 위해) -->
    <!-- <link rel="stylesheet" href="/custom-ckeditor.css">  -->
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .article-container { max-width: 1200px; margin: 0 auto; padding: 20px; border: 1px solid #eee; }
        h1 { border-bottom: 1px solid #ddd; padding-bottom: 10px; margin-bottom: 20px; }
        .article-info { font-size: 0.9em; color: #666; margin-bottom: 20px; }
        .article-content { line-height: 1.6; }
        /* CKEditor가 생성하는 HTML 구조에 따라 필요한 CSS를 추가하여 스타일을 유지 */
        .ck-content { /* CKEditor의 기본 클래스 */
            font-size: 1em; /* 필요에 따라 조절 */
            line-height: 1.6em;
        }
        /* 저장된 CKEditor 내용의 이미지 스타일 유지 */
        .ck-content img {
            max-width: 100%;
            height: auto;
            display: block; /* 이미지가 줄 바꿈되도록 */
            margin: 0 auto; /* 중앙 정렬 */
        }
        /* 저장된 CKEditor 내용의 캡션 스타일 유지 */
        .ck-content .image-caption {
            font-style: italic;
            text-align: center;
            font-size: 0.9em;
            color: #555;
            margin-top: 5px;
        }

        .ck-content { /* CKEditor의 기본 클래스 */
        font-size: 1em; /* 필요에 따라 조절 */
        line-height: 1.6em;
        text-align: center; /* CKEditor 콘텐츠의 기본 텍스트 정렬을 초기화 (필요시) */
    }

    /* ⭐️⭐️⭐️ 이 부분을 수정/추가해줘! ⭐️⭐️⭐️ */
    .ck-content figure.image { /* CKEditor 이미지를 감싸는 figure 태그 */
        display: block; /* 블록 요소로 만들어 margin: auto가 작동하도록 함 */
        margin: 0 auto; /* 좌우 마진을 자동으로 설정하여 가운데 정렬 */
        max-width: 100%; /* 너무 커지는 것을 방지 */
    }
    
    .ck-content figure.image img { /* figure 안의 실제 이미지 태그 */
        display: block; /* 블록 요소로 만들어 margin: auto가 작동하도록 함 */
        margin: 0 auto; /* 좌우 마진을 자동으로 설정하여 가운데 정렬 */
        max-width: 100%; /* 부모(figure)보다 커지지 않도록 */
        height: auto; /* 비율 유지 */
    }
    
    /* 캡션도 가운데 정렬되도록 */
    .ck-content .image-caption {
        text-align: center; 
        font-style: italic;
        font-size: 0.9em;
        color: #555;
        margin-top: 5px;
    }
    </style>
</head>
<body>
    <div class="article-container">
        <h1 th:text="${useGuide03.title}">게시글 제목입니다.</h1>
        <div class="article-info">
            작성자: <span th:text="${useGuide03.author}"></span> |
            작성일: <span th:text="${#temporals.format(useGuide03.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
        </div>
        <div class="article-content ck-content">
            <!-- ⭐️⭐️⭐️ 여기가 핵심! th:utext를 사용해야 HTML이 그대로 렌더링돼! ⭐️⭐️⭐️ -->
            <p th:utext="${useGuide03.content}"></p>
        </div>
        <br>
    </div>
</body>
</html>